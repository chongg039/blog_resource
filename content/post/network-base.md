---
title: "[基础知识]计算机网络"
date: 2020-02-20T20:32:59+08:00
Description: ""
Tags: [Network, Knowledge]
Categories: [C++]

---

### TCP拥塞控制：慢开始、拥塞避免、快重传、快恢复

建议阅读[博客](https://blog.csdn.net/sinat_21112393/article/details/50810053)。

### 并发和线程

线程数是不是越大越好？ 肯定不是的，首先服务器的cpu核数有限，同时并发的线程数是有限的，1核cpu设置10000个工作线程是没有意义的；线程的切换是有开销的，如果线程切换过于频繁，反而使性能降低。

调用sleep()函数的时候，线程是否一直占用cpu？ 不占用，等待时会把cpu让出来，给其他需要cpu资源的线程使用，不止sleep()函数，在进行一些阻塞调用，例如网络编程中的阻塞accept()【等待客户端连接】和阻塞recv()【等待下游回包】也不占用cpu资源。 

补充：sleep与wait方法的区别可以参见之前的一篇博客的介绍：http://blog.csdn.net/megustas_jjc/article/details/71304979

如果cpu是单核的，设置多线程有什么意义，能提高并发性能么？
即使是单核，使用多线程也是有意义的

1. 多线程编码可以让我们的服务/代码更加清晰，有些IO线程收发包，有些Worker线程进行任务处理，有些Timeout线程进行超时检测
2. 如果有一个任务一直占用CPU资源在进行计算，那么此时增加线程并不能增加并发，例如这样的一个代码while(1){ i++; }该代码一直不停的占用CPU资源进行计算，会使CPU占用率达到100%
3. 通常来说，Worker线程一般不会一直占用CPU进行计算，此时即使CPU是单核，增加Worker线程也能够提高并发，因为这个线程在休息的时候，其他的线程可以继续工作